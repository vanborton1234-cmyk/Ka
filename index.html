<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ù…ÙÙƒØ± - Ø§Ù„Ø³Ù†Ø¯Ø§ÙˆÙŠ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #0f3460, #533483);
            padding: 30px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #e94560, #f39c12);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .chat-container {
            height: 600px;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .message {
            max-width: 80%;
            padding: 15px;
            border-radius: 15px;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .user-message {
            align-self: flex-end;
            background: linear-gradient(135deg, #e94560, #f39c12);
            color: white;
        }
        
        .ai-message {
            align-self: flex-start;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .thinking-process {
            background: rgba(15, 52, 96, 0.3);
            border-left: 4px solid #0f3460;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            font-style: italic;
            color: #bdc3c7;
        }
        
        .analysis {
            background: rgba(83, 52, 131, 0.3);
            border-left: 4px solid #533483;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
        }
        
        .solution {
            background: rgba(233, 69, 96, 0.2);
            border-left: 4px solid #e94560;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
        }
        
        .input-area {
            display: flex;
            padding: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(15, 52, 96, 0.2);
        }
        
        #userInput {
            flex: 1;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: white;
            font-size: 16px;
            outline: none;
        }
        
        #userInput:focus {
            border-color: #e94560;
        }
        
        #sendButton {
            background: linear-gradient(135deg, #e94560, #f39c12);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 0 25px;
            margin-right: 10px;
            cursor: pointer;
            font-size: 16px;
            transition: transform 0.2s;
        }
        
        #sendButton:hover {
            transform: scale(1.05);
        }
        
        .typing-indicator {
            display: none;
            align-self: flex-start;
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 15px;
            border-radius: 15px;
            color: #bdc3c7;
            font-style: italic;
        }
        
        .reasoning-step {
            margin: 8px 0;
            padding: 8px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
            border-right: 3px solid #f39c12;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§  Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ø³Ù†Ø¯Ø§ÙˆÙŠ</h1>
            <p>Ù†Ø¸Ø§Ù… ØªÙÙƒÙŠØ± ÙˆØªØ­Ù„ÙŠÙ„ Ù…ØªÙ‚Ø¯Ù… - ÙŠÙÙƒØ± Ù…Ø«Ù„ÙŠ ØªÙ…Ø§Ù…Ø§Ù‹</p>
        </div>
        
        <div class="chat-container" id="chatContainer">
            <div class="message ai-message">
                <p>Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø£Ù†Ø§ Ø§Ù„Ø³Ù†Ø¯Ø§ÙˆÙŠ - Ù†Ø¸Ø§Ù… Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø­Ù‚ÙŠÙ‚ÙŠ <strong>ÙŠÙÙƒØ± ÙˆÙŠØ­Ù„Ù„</strong> Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©.</p>
                <p>Ø³Ø£Ø±ÙŠÙƒ Ø¹Ù…Ù„ÙŠØ© ØªÙÙƒÙŠØ±ÙŠ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©ØŒ Ù…Ø«Ù„ÙŠ ØªÙ…Ø§Ù…Ø§Ù‹!</p>
                <p>Ø¬Ø±Ø¨ Ø£Ù† ØªØ³Ø£Ù„Ù†ÙŠ Ø£ÙŠ Ø³Ø¤Ø§Ù„ ØµØ¹Ø¨ Ø£Ùˆ Ù…Ø¹Ø¶Ù„Ø© ÙÙƒØ±ÙŠØ©...</p>
            </div>
        </div>
        
        <div class="typing-indicator" id="typingIndicator">
            ğŸ’­ Ø§Ù„Ø³Ù†Ø¯Ø§ÙˆÙŠ ÙŠÙÙƒØ± ÙˆÙŠØ­Ù„Ù„...
        </div>
        
        <div class="input-area">
            <input type="text" id="userInput" placeholder="Ø§Ø·Ø±Ø­ Ø³Ø¤Ø§Ù„Ùƒ Ø§Ù„ØµØ¹Ø¨ Ù‡Ù†Ø§..." autocomplete="off">
            <button id="sendButton">Ø¥Ø±Ø³Ø§Ù„</button>
        </div>
    </div>

    <script>
        class IntelligentAI {
            constructor() {
                this.thinkingSteps = [];
                this.knowledgeBase = this.initializeKnowledge();
            }
            
            initializeKnowledge() {
                return {
                    math: {
                        operations: ['+', '-', '*', '/', '^'],
                        methods: ['Ø§Ù„ØªØ­Ù„ÙŠÙ„', 'Ø§Ù„Ø§Ø³ØªØ¨Ø¯Ø§Ù„', 'Ø§Ù„ØªØ¬Ø²ÙŠØ¡', 'Ø§Ù„ØªÙÙƒÙŠÙƒ']
                    },
                    logic: {
                        principles: ['Ø§Ù„Ø§Ø³ØªÙ†Ø¨Ø§Ø·', 'Ø§Ù„Ø§Ø³ØªÙ‚Ø±Ø§Ø¡', 'Ø§Ù„Ø§Ø³ØªÙ†ØªØ§Ø¬', 'Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ'],
                        fallacies: ['Ø§Ù„Ù…ØºØ§Ù„Ø·Ø©', 'Ø§Ù„ØªÙ†Ø§Ù‚Ø¶', 'Ø§Ù„Ù„Ø¨Ø³']
                    },
                    science: {
                        disciplines: ['Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡', 'Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡', 'Ø§Ù„Ø¨ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§', 'Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª'],
                        methods: ['Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©', 'Ø§Ù„ØªØ¬Ø±Ø¨Ø©', 'Ø§Ù„Ø§Ø³ØªØ¯Ù„Ø§Ù„']
                    }
                };
            }
            
            async thinkDeeply(question) {
                this.thinkingSteps = [];
                
                // Ø§Ù„Ø®Ø·ÙˆØ© 1: ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„
                this.addThinkingStep("ğŸ” ØªØ­Ù„ÙŠÙ„ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„ ÙˆÙÙ‡Ù… Ø§Ù„Ø³ÙŠØ§Ù‚");
                const analysis = this.analyzeQuestion(question);
                
                // Ø§Ù„Ø®Ø·ÙˆØ© 2: ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ù†Ù‡Ø¬ÙŠØ©
                this.addThinkingStep("ğŸ¯ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ù†Ù‡Ø¬ÙŠØ© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø­Ù„");
                const methodology = this.determineMethodology(analysis);
                
                // Ø§Ù„Ø®Ø·ÙˆØ© 3: ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù†Ù‚Ø¯ÙŠ
                this.addThinkingStep("ğŸ’¡ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù†Ù‚Ø¯ÙŠ ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ");
                const criticalThinking = this.applyCriticalThinking(analysis, methodology);
                
                // Ø§Ù„Ø®Ø·ÙˆØ© 4: ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø­Ù„ÙˆÙ„
                this.addThinkingStep("âš¡ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„Ù…Ù…ÙƒÙ†Ø© ÙˆØªÙ‚ÙŠÙŠÙ…Ù‡Ø§");
                const solutions = this.generateSolutions(criticalThinking);
                
                // Ø§Ù„Ø®Ø·ÙˆØ© 5: Ø§Ù„ØªØ­Ù‚Ù‚ ÙˆØ§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©
                this.addThinkingStep("âœ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙˆÙ…Ø±Ø§Ø¬Ø¹ØªÙ‡Ø§");
                const finalAnswer = this.verifySolution(solutions);
                
                return {
                    analysis,
                    methodology,
                    criticalThinking,
                    solutions,
                    finalAnswer,
                    thinkingSteps: this.thinkingSteps
                };
            }
            
            addThinkingStep(step) {
                this.thinkingSteps.push(step);
            }
            
            analyzeQuestion(question) {
                const lowerQ = question.toLowerCase();
                const analysis = {
                    type: 'Ø¹Ø§Ù…',
                    complexity: 'Ù…ØªÙˆØ³Ø·',
                    keywords: [],
                    intent: 'Ø§Ø³ØªÙØ³Ø§Ø±'
                };
                
                // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ÙˆØ¹
                if (this.containsMath(lowerQ)) {
                    analysis.type = 'Ø±ÙŠØ§Ø¶ÙŠ';
                    analysis.complexity = this.assessMathComplexity(lowerQ);
                } else if (this.containsLogic(lowerQ)) {
                    analysis.type = 'Ù…Ù†Ø·Ù‚ÙŠ';
                    analysis.complexity = 'Ø¹Ø§Ù„ÙŠ';
                } else if (this.containsScience(lowerQ)) {
                    analysis.type = 'Ø¹Ù„Ù…ÙŠ';
                    analysis.complexity = 'Ù…ØªÙ‚Ø¯Ù…';
                }
                
                // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ©
                analysis.keywords = this.extractKeywords(question);
                analysis.intent = this.determineIntent(question);
                
                return analysis;
            }
            
            containsMath(text) {
                const mathPatterns = [
                    /\d+[\+\-\*\/\^]\d+/, /\d+/, 
                    /Ø­Ø³Ø§Ø¨|Ø±ÙŠØ§Ø¶ÙŠØ§Øª|Ø¬Ù…Ø¹|Ø·Ø±Ø­|Ø¶Ø±Ø¨|Ù‚Ø³Ù…Ø©|Ù…Ø³Ø§Ø­Ø©|Ù…Ø­ÙŠØ·/,
                    /Ù†Ø³Ø¨Ø©|ØªÙ†Ø§Ø³Ø¨|Ù…Ø¹Ø§Ø¯Ù„Ø©|ØªÙƒØ§Ù…Ù„|ØªÙØ§Ø¶Ù„/
                ];
                return mathPatterns.some(pattern => pattern.test(text));
            }
            
            containsLogic(text) {
                const logicPatterns = [
                    /Ø¥Ø°Ø§|ÙØ¥Ù†|Ø§Ø°Ø§Ù‹|Ø§Ø³ØªÙ†ØªØ§Ø¬|Ù…Ù†Ø·Ù‚|Ù…ØºØ§Ù„Ø·Ø©/,
                    /Ù„ØºØ²|Ø§Ø­Ø¬ÙŠØ©|Ù…Ø¹Ø¶Ù„Ø©|Ø³Ø¤Ø§Ù„ ØµØ¹Ø¨/,
                    /Ø¬Ù…ÙŠØ¹|Ø¨Ø¹Ø¶|Ù„Ø§ Ø´ÙŠØ¡|ÙƒÙ„|Ø£ÙŠ/
                ];
                return logicPatterns.some(pattern => pattern.test(text));
            }
            
            containsScience(text) {
                const sciencePatterns = [
                    /Ø¹Ù„Ù…|ÙÙŠØ²ÙŠØ§Ø¡|ÙƒÙŠÙ…ÙŠØ§Ø¡|Ø¨ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§|Ø°Ø±ÙŠØ©|Ø¬Ø²ÙŠØ¦/,
                    /Ù†Ø¸Ø±ÙŠØ©|Ù‚Ø§Ù†ÙˆÙ†|Ø§ÙƒØªØ´Ø§Ù|ØªØ¬Ø±Ø¨Ø©|Ø¨Ø­Ø« Ø¹Ù„Ù…ÙŠ/,
                    /Ø·Ø§Ù‚Ø©|Ù‚ÙˆØ©|Ø³Ø±Ø¹Ø©|ÙƒØªÙ„Ø©|Ø­Ø±Ø§Ø±Ø©/
                ];
                return sciencePatterns.some(pattern => pattern.test(text));
            }
            
            assessMathComplexity(text) {
                if (text.includes('ØªÙƒØ§Ù…Ù„') || text.includes('ØªÙØ§Ø¶Ù„') || text.includes('Ù…Ø¹Ø§Ø¯Ù„Ø©')) {
                    return 'Ù…ØªÙ‚Ø¯Ù…';
                } else if (text.match(/\d+[\*\/\^]\d+/)) {
                    return 'Ø¹Ø§Ù„ÙŠ';
                }
                return 'Ù…ØªÙˆØ³Ø·';
            }
            
            extractKeywords(text) {
                const words = text.split(' ').filter(word => word.length > 2);
                return words.slice(0, 5);
            }
            
            determineIntent(text) {
                if (text.includes('ØŸ') || text.includes('ÙƒÙŠÙ') || text.includes('Ù„Ù…Ø§Ø°Ø§')) {
                    return 'Ø§Ø³ØªÙØ³Ø§Ø±';
                } else if (text.includes('Ø§Ø­Ø³Ø¨') || text.includes('Ù…Ø§ Ù‡ÙŠ')) {
                    return 'Ø­Ø³Ø§Ø¨';
                } else if (text.includes('Ø§Ø´Ø±Ø­') || text.includes('ÙˆØ¶Ø­')) {
                    return 'Ø´Ø±Ø­';
                }
                return 'Ø§Ø³ØªÙØ³Ø§Ø±';
            }
            
            determineMethodology(analysis) {
                const methods = [];
                
                switch(analysis.type) {
                    case 'Ø±ÙŠØ§Ø¶ÙŠ':
                        methods.push('Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ Ø§Ù„Ù…Ù†Ù‡Ø¬ÙŠ');
                        methods.push('ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ ÙˆØ§Ù„Ø­Ø³Ø§Ø¨Ø§Øª');
                        if (analysis.complexity === 'Ù…ØªÙ‚Ø¯Ù…') {
                            methods.push('Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ø¸Ø±ÙŠØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©');
                        }
                        break;
                    case 'Ù…Ù†Ø·Ù‚ÙŠ':
                        methods.push('Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ Ø§Ù„Ø§Ø³ØªÙ†ØªØ§Ø¬ÙŠ');
                        methods.push('ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ù‚Ø¯Ù…Ø§Øª ÙˆØ§Ù„Ù†ØªØ§Ø¦Ø¬');
                        methods.push('Ø§Ù„ÙƒØ´Ù Ø¹Ù† Ø§Ù„ØªÙ†Ø§Ù‚Ø¶Ø§Øª');
                        break;
                    case 'Ø¹Ù„Ù…ÙŠ':
                        methods.push('Ø§Ù„Ù…Ù†Ù‡Ø¬ Ø§Ù„Ø¹Ù„Ù…ÙŠ ÙÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„');
                        methods.push('Ø§Ù„Ø§Ø³ØªÙ†Ø§Ø¯ Ø¥Ù„Ù‰ Ø§Ù„Ù†Ø¸Ø±ÙŠØ§Øª Ø§Ù„Ø«Ø§Ø¨ØªØ©');
                        methods.push('Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù†Ù‚Ø¯ÙŠ ÙÙŠ Ø§Ù„ÙØ±Ø¶ÙŠØ§Øª');
                        break;
                    default:
                        methods.push('Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø´Ù…ÙˆÙ„ÙŠ');
                        methods.push('Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯');
                }
                
                return methods;
            }
            
            applyCriticalThinking(analysis, methodology) {
                const thinking = {
                    assumptions: this.identifyAssumptions(analysis),
                    perspectives: this.generatePerspectives(analysis),
                    constraints: this.identifyConstraints(analysis),
                    implications: this.analyzeImplications(analysis)
                };
                
                return thinking;
            }
            
            identifyAssumptions(analysis) {
                const assumptions = ['Ø§ÙØªØ±Ø§Ø¶ ÙˆØ¶ÙˆØ­ Ø§Ù„Ù…ØµØ·Ù„Ø­Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©'];
                
                if (analysis.type === 'Ø±ÙŠØ§Ø¶ÙŠ') {
                    assumptions.push('Ø§ÙØªØ±Ø§Ø¶ ØµØ­Ø© Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ÙˆØ§Ù„Ù…Ø¹Ø·ÙŠØ§Øª');
                } else if (analysis.type === 'Ù…Ù†Ø·Ù‚ÙŠ') {
                    assumptions.push('Ø§ÙØªØ±Ø§Ø¶ Ø§ØªØ³Ø§Ù‚ Ø§Ù„Ù…Ù‚Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠØ©');
                }
                
                return assumptions;
            }
            
            generatePerspectives(analysis) {
                const perspectives = ['Ø§Ù„Ù†Ø¸Ø± Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ù…Ù† Ø²ÙˆØ§ÙŠØ§ Ù…ØªØ¹Ø¯Ø¯Ø©'];
                
                if (analysis.keywords.length > 0) {
                    perspectives.push(`Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ©: ${analysis.keywords.join(', ')}`);
                }
                
                return perspectives;
            }
            
            identifyConstraints(analysis) {
                return ['Ø§Ù„ÙˆÙ‚Øª ÙˆØ§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ù…ØªØ§Ø­Ø©', 'Ø§Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø¨Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹'];
            }
            
            analyzeImplications(analysis) {
                return ['Ø§Ù„ØªØ£Ø«ÙŠØ± Ø§Ù„Ù…Ø­ØªÙ…Ù„ Ù„Ù„Ø­Ù„ Ø¹Ù„Ù‰ Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ø¹Ø§Ù…', 'Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ù…Ø¹ Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ… Ø§Ù„Ø£Ø®Ø±Ù‰'];
            }
            
            generateSolutions(thinking) {
                const solutions = [];
                
                // Ø­Ù„ÙˆÙ„ Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ØªØ­Ù„ÙŠÙ„
                solutions.push({
                    type: 'Ø§Ù„Ø­Ù„ Ø§Ù„ØªØ­Ù„ÙŠÙ„ÙŠ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±',
                    description: 'Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…Ù†Ù‡Ø¬ÙŠ Ù„Ù„Ù…Ø¨Ø§Ø¯Ø¦ Ø§Ù„Ù…Ø¹Ø±ÙˆÙØ©'
                });
                
                solutions.push({
                    type: 'Ø§Ù„Ø­Ù„ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ Ø§Ù„Ø¨Ø¯ÙŠÙ„',
                    description: 'Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø²ÙˆØ§ÙŠØ§ Ù†Ø¸Ø± ØºÙŠØ± ØªÙ‚Ù„ÙŠØ¯ÙŠØ©'
                });
                
                solutions.push({
                    type: 'Ø§Ù„Ø­Ù„ Ø§Ù„ØªÙƒØ§Ù…Ù„ÙŠ',
                    description: 'Ø¯Ù…Ø¬ multiple perspectives Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ ÙÙ‡Ù… Ø£Ø´Ù…Ù„'
                });
                
                return solutions;
            }
            
            verifySolution(solutions) {
                return {
                    chosenSolution: solutions[0],
                    verification: 'ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠØ© ÙˆØ§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù†Ù‚Ø¯ÙŠ',
                    confidence: 'Ø¹Ø§Ù„ÙŠØ©',
                    additionalNotes: 'Ø§Ù„Ø­Ù„ Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ·ÙˆÙŠØ± ÙˆØ§Ù„ØªØ­Ø³ÙŠÙ† Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©'
                };
            }
            
            generateFinalResponse(thinkingResult, originalQuestion) {
                let response = `
                    <div class="thinking-process">
                        <strong>ğŸ§  Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø¹Ù…ÙŠÙ‚:</strong>
                        ${thinkingResult.thinkingSteps.map(step => 
                            `<div class="reasoning-step">${step}</div>`
                        ).join('')}
                    </div>
                    
                    <div class="analysis">
                        <strong>ğŸ” ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„:</strong>
                        <p>Ø§Ù„Ù†ÙˆØ¹: ${thinkingResult.analysis.type} | Ø§Ù„ØªØ¹Ù‚ÙŠØ¯: ${thinkingResult.analysis.complexity}</p>
                        <p>Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ©: ${thinkingResult.analysis.keywords.join(', ')}</p>
                    </div>
                    
                    <div class="analysis">
                        <strong>ğŸ¯ Ø§Ù„Ù…Ù†Ù‡Ø¬ÙŠØ© Ø§Ù„Ù…ØªØ¨Ø¹Ø©:</strong>
                        <p>${thinkingResult.methodology.join(' â†’ ')}</p>
                    </div>
                `;
                
                // Ø¥Ø¬Ø§Ø¨Ø© Ù…Ø®ØµØµØ© Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ø³Ø¤Ø§Ù„
                const customAnswer = this.generateCustomAnswer(originalQuestion, thinkingResult);
                response += `
                    <div class="solution">
                        <strong>ğŸ’ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ù…Ø¯Ø±ÙˆØ³Ø©:</strong>
                        <p>${customAnswer}</p>
                        <p><em>${thinkingResult.finalAnswer.verification}</em></p>
                    </div>
                `;
                
                return response;
            }
            
            generateCustomAnswer(question, thinkingResult) {
                const lowerQ = question.toLowerCase();
                
                if (this.containsMath(lowerQ)) {
                    return this.generateMathAnswer(question, thinkingResult);
                } else if (this.containsLogic(lowerQ)) {
                    return this.generateLogicAnswer(question, thinkingResult);
                } else if (lowerQ.includes('Ù„Ù…Ø§Ø°Ø§') || lowerQ.includes('ÙƒÙŠÙ')) {
                    return this.generateExplanation(question, thinkingResult);
                } else {
                    return this.generateGeneralAnswer(question, thinkingResult);
                }
            }
            
            generateMathAnswer(question, thinkingResult) {
                // Ù…Ø­Ø§ÙˆÙ„Ø© Ø­Ù„ Ø§Ù„Ù…Ø³Ø§Ø¦Ù„ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© Ø§Ù„Ø¨Ø³ÙŠØ·Ø©
                const mathMatch = question.match(/(\d+)\s*([\+\-\*\/])\s*(\d+)/);
                if (mathMatch) {
                    const [_, num1, op, num2] = mathMatch;
                    let result;
                    switch(op) {
                        case '+': result = parseInt(num1) + parseInt(num2); break;
                        case '-': result = parseInt(num1) - parseInt(num2); break;
                        case '*': result = parseInt(num1) * parseInt(num2); break;
                        case '/': result = parseInt(num1) / parseInt(num2); break;
                        default: result = 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
                    }
                    return `Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ: ${num1} ${op} ${num2} = ${result}`;
                }
                
                return `Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ØªØ­Ù„ÙŠÙ„ÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ Ø§Ù„Ù…ØªØ¹Ù…Ù‚ØŒ Ø£Ø±Ù‰ Ø£Ù† Ø§Ù„Ù…Ø³Ø£Ù„Ø© ØªØªØ·Ù„Ø¨ ${thinkingResult.analysis.complexity === 'Ù…ØªÙ‚Ø¯Ù…' ? 'ØªØ·Ø¨ÙŠÙ‚ Ù†Ø¸Ø±ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø©' : 'Ù…Ù†Ù‡Ø¬ÙŠØ© Ø­Ø³Ø§Ø¨ÙŠØ© Ù…Ù†Ù‡Ø¬ÙŠØ©'}. Ø£Ù‚ØªØ±Ø­ Ø§Ù„Ø¨Ø¯Ø¡ Ø¨ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø·ÙŠØ§Øª Ø«Ù… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ù†Ø¸Ù…Ø©.`;
            }
            
            generateLogicAnswer(question, thinkingResult) {
                return `Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ Ø§Ù„Ø§Ø³ØªÙ†ØªØ§Ø¬ÙŠØŒ ÙŠÙ…ÙƒÙ† Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø­Ù„ Ø¹Ù† Ø·Ø±ÙŠÙ‚: 1) ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ù‚Ø¯Ù…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© 2) ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø¨ÙŠÙ† Ø§Ù„Ø¹Ù†Ø§ØµØ± 3) Ø§Ø³ØªØ¨Ø¹Ø§Ø¯ Ø§Ù„Ø§Ø­ØªÙ…Ø§Ù„Ø§Øª Ø§Ù„Ù…ØªÙ†Ø§Ù‚Ø¶Ø© 4) Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø§Ø³ØªÙ†ØªØ§Ø¬ Ø§Ù„Ø£ÙƒØ«Ø± ØªØ±Ø¬ÙŠØ­Ø§Ù‹.`;
            }
            
            generateExplanation(question, thinkingResult) {
                return `Ù„ÙÙ‡Ù… "${question}" Ø¨Ø´ÙƒÙ„ Ø¹Ù…ÙŠÙ‚ØŒ ÙŠØ¬Ø¨ Ø§Ù„Ù†Ø¸Ø± Ø¥Ù„Ù‰: Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„Ø¬Ø°Ø±ÙŠØ©ØŒ Ø§Ù„Ø¹ÙˆØ§Ù…Ù„ Ø§Ù„Ù…Ø¤Ø«Ø±Ø©ØŒ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©ØŒ ÙˆØ§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ù…Ø¹ Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ… Ø°Ø§Øª Ø§Ù„ØµÙ„Ø©. Ù‡Ø°Ø§ ÙŠØªØ·Ù„Ø¨ ØªØ­Ù„ÙŠÙ„Ø§Ù‹ Ø´Ø§Ù…Ù„Ø§Ù‹ ÙŠØ£Ø®Ø° ÙÙŠ Ø§Ù„Ø§Ø¹ØªØ¨Ø§Ø± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¬ÙˆØ§Ù†Ø¨.`;
            }
            
            generateGeneralAnswer(question, thinkingResult) {
                return `Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ØªØ­Ù„ÙŠÙ„ÙŠ Ø§Ù„Ù…ØªØ¹Ù…Ù‚ Ù„Ø³Ø¤Ø§Ù„Ùƒ "${question}"ØŒ Ø£Ø±Ù‰ Ø£Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ØªØªØ·Ù„Ø¨ ÙÙ‡Ù…Ø§Ù‹ Ø´Ø§Ù…Ù„Ø§Ù‹ Ù„Ù„Ù…ÙˆØ¶ÙˆØ¹ Ù…Ù† Ø®Ù„Ø§Ù„: ${thinkingResult.methodology.join(' Ùˆ')}. Ù‡Ø°Ø§ Ø§Ù„Ù†Ù‡Ø¬ ÙŠØ¶Ù…Ù† Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø¥Ø¬Ø§Ø¨Ø© Ø¯Ù‚ÙŠÙ‚Ø© ÙˆÙ…Ø¯Ø±ÙˆØ³Ø©.`;
            }
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
        const intelligentAI = new IntelligentAI();
        const chatContainer = document.getElementById('chatContainer');
        const userInput = document.getElementById('userInput');
        const sendButton = document.getElementById('sendButton');
        const typingIndicator = document.getElementById('typingIndicator');

        async function sendMessage() {
            const message = userInput.value.trim();
            if (!message) return;
            
            // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            addMessage(message, 'user');
            userInput.value = '';
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙÙƒÙŠØ±
            typingIndicator.style.display = 'block';
            chatContainer.scrollTop = chatContainer.scrollHeight;
            
            try {
                // Ù…Ø­Ø§ÙƒØ§Ø© ÙˆÙ‚Øª Ø§Ù„ØªÙÙƒÙŠØ±
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø¹Ù…ÙŠÙ‚ ÙÙŠ Ø§Ù„Ø³Ø¤Ø§Ù„
                const thinkingResult = await intelligentAI.thinkDeeply(message);
                
                // Ø¥Ø®ÙØ§Ø¡ Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙÙƒÙŠØ±
                typingIndicator.style.display = 'none';
                
                // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ù…Ø¯Ø±ÙˆØ³Ø©
                const aiResponse = intelligentAI.generateFinalResponse(thinkingResult, message);
                addMessage(aiResponse, 'ai');
                
            } catch (error) {
                typingIndicator.style.display = 'none';
                addMessage('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.', 'ai');
            }
        }

        function addMessage(content, type) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}-message`;
            messageDiv.innerHTML = type === 'user' ? content : content;
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        // event listeners
        sendButton.addEventListener('click', sendMessage);
        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });

        // Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
        userInput.focus();
    </script>
</body>
</html>
